<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="JavaScript," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="数组 数组是值的有序集合。每个值叫做一个元素，而每个元素在数组中有一个位置，以数字表示，称为索引。JavaScript数组是无类型的：数组元素可以是任意类型，并且同一个数组中的不同元素也可能有不同的类型。数组的元素甚至也可能是对象或其他数组，这允许创建复杂的数据结构，如对象的数组和数组的数组。JavaScript数组的索引是基于零的32位数值：第一个元素的索引为0，最大可能的索引为4 294 96">
<meta name="keywords" content="JavaScript">
<meta property="og:type" content="article">
<meta property="og:title" content="数组(一)">
<meta property="og:url" content="http://yoursite.com/2017/08/23/数组/index.html">
<meta property="og:site_name" content="谦恒-个人博客">
<meta property="og:description" content="数组 数组是值的有序集合。每个值叫做一个元素，而每个元素在数组中有一个位置，以数字表示，称为索引。JavaScript数组是无类型的：数组元素可以是任意类型，并且同一个数组中的不同元素也可能有不同的类型。数组的元素甚至也可能是对象或其他数组，这允许创建复杂的数据结构，如对象的数组和数组的数组。JavaScript数组的索引是基于零的32位数值：第一个元素的索引为0，最大可能的索引为4 294 96">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2017-08-23T11:14:43.901Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="数组(一)">
<meta name="twitter:description" content="数组 数组是值的有序集合。每个值叫做一个元素，而每个元素在数组中有一个位置，以数字表示，称为索引。JavaScript数组是无类型的：数组元素可以是任意类型，并且同一个数组中的不同元素也可能有不同的类型。数组的元素甚至也可能是对象或其他数组，这允许创建复杂的数据结构，如对象的数组和数组的数组。JavaScript数组的索引是基于零的32位数值：第一个元素的索引为0，最大可能的索引为4 294 96">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2017/08/23/数组/"/>





  <title>数组(一) | 谦恒-个人博客</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">谦恒-个人博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/08/23/数组/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="谦恒">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="谦恒-个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">数组(一)</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-23T15:15:22+08:00">
                2017-08-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><blockquote>
<p>数组是值的有序集合。每个值叫做一个元素，而每个元素在数组中有一个位置，以数字表示，称为索引。JavaScript数组是无类型的：数组元素可以是任意类型，并且同一个数组中的不同元素也可能有不同的类型。数组的元素甚至也可能是对象或其他数组，这允许创建复杂的数据结构，如对象的数组和数组的数组。JavaScript数组的索引是基于零的32位数值：第一个元素的索引为0，最大可能的索引为4 294 967 294（2^32-2）,数组最大能容纳4 294 967 295个元素。JavaScript数组是动态的：根据需要他们会增长或缩减，并且在创建数组时无须声明一个固定的大小或者在数组大小变化时无须重新分配空间。JavaScript数组可能是稀疏的：数组元素的索引不一定要连续的，它们之间可以有空缺。每个JavaScript数组都有一个length属性。针对非稀疏数组，该属性就是数组元素的个数。针对稀疏数组，length比所有元素的索引都要大。</p>
<p>JavaScript数组是JavaScript对象的特殊形式，数组索引实际上和碰巧是整数的属性名差不多。通常，数组的实现是经过优化的，用数字索引来访问数组元素一般来说比访问常规对象属性要快很多。</p>
<p>数组继承自Array.prototype中的属性，它定义了一套丰富的数组操作方法。大多数这些方法是通用的，这意味着它们不仅对真正的数组有效，而且对“类数组对象”同样有效。 </p>
</blockquote>
<h3 id="1-1-创建数组"><a href="#1-1-创建数组" class="headerlink" title="1.1 创建数组"></a>1.1 创建数组</h3><p><br>    使用数组直接量是创建数组最简单的方法，在方括号中将数组元素用逗号隔开即可。例如：<br></p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var empty = [];		// 没有元素的数组</div><div class="line">var primes = [2, 3, 5, 7, 11];	// 有5个数值的数组</div><div class="line">var misc = [1.1, true, &apos;a&apos;,];	// 3个不同类型的元素和结尾的逗号</div></pre></td></tr></table></figure>
<p><br>    数组直接量中的值不一定要是常量；它们可以是任意的表达式：<br></p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var base = 1024;</div><div class="line">var table = [base, base+1, base+2, base+3];</div></pre></td></tr></table></figure>
<p><br>    它可以包含对象直接量或其他数组直接量：<br></p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var b = [[1, &#123;x: 1, y:2 &#125;], [2, &#123;x: 3, y: 4 &#125;]];</div></pre></td></tr></table></figure>
<p><br>    如果省略数组直接量中的某个值，省略的元素将被赋予undefined值：<br></p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var count = [1,,3];	// 数组有3个元素，中间的哪个元素值为undefined</div><div class="line">var undefs = [,,];	// 数组有2个元素，都是undefined</div></pre></td></tr></table></figure>
<p><br>    数组直接量的语法允许有可选的结尾的逗号，故[,,]只有两个元素而非三个。<br></p>

<p><br>    调用构造函数Array()是创建数组的另一种方法。可以用三种方式调用构造函数。<br></p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">a) 调用时没有参数</div><div class="line">var a = new Array();</div><div class="line">该方法创建一个没有任何元素的空数组，等同于数组直接量[].</div><div class="line"></div><div class="line">b) 调用时有一个数值参数，它指定长度：</div><div class="line">var a = new Array(10);</div><div class="line">该技术创建指定长度的数组。当预先知道所需元素个数时，这种形式的Array()构造函数可以用来预分配一个数组空间。注意，数组中没有存储值，甚至数组的索引属性“0”、“1”等还未定义。</div><div class="line"></div><div class="line">c) 显式指定两个或多个数组元素或者数组的一个非数值元素：</div><div class="line">var a = new Array(5, 4, 3, 2, 1, &quot;testing, testing&quot;);</div><div class="line">以这种形式，构造函数的参数将会成为新数组的元素。使用数组字面量比这样使用Array()构造函数要简单多了。</div></pre></td></tr></table></figure>
<h3 id="1-2-数组元素的读和写"><a href="#1-2-数组元素的读和写" class="headerlink" title="1.2 数组元素的读和写"></a>1.2 数组元素的读和写</h3><p><br>    使用[]操作符来访问数组中的一个元素。数组的引用位于方括号的左边。方括号中是一个返回非负整数值的任意表达式。使用该语法既可以读又可以写数组的一个元素。因此，如下代码都是合法的JavaScript语句：<br></p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var a = [&quot;world&quot;];	// 从一个元素的数组开始</div><div class="line">var value = a[0];	// 读第0个元素</div><div class="line">a[1] = 3.14;		// 写第一个元素</div><div class="line">i = 2;</div><div class="line">a[i] = 3;			// 写第二个元素</div><div class="line">a[i + 1] = &quot;hello&quot;;	// 写第三个元素</div><div class="line">a[a[i]] = a[0];		// 读第0个元素和第2个元素，写第三个元素</div></pre></td></tr></table></figure>
<p><br>    请记住，数组是对象的特殊形式。使用方括号访问数组元素就像方括号访问对象的属性一样。JavaScript将指定的数字索引值转换成字符串——索引值1变成“1”——然后将其作为属性名来使用。关于索引值从数字转换为字符串没有什么特别支持：对常规对象也可以这么做：<br></p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">o = &#123;&#125;;			// 创建一个普通对象</div><div class="line">o[1] = &quot;one&quot;;	// 用一个整数来索引它</div></pre></td></tr></table></figure>
<p><br>    数组的特别之处在于，当使用小于2^32的非负整数作为属性名时数组会自动维护其length属性值。如上，创建仅有一个元素的数组。然后，在索引1、2和3处分别进行赋值。当我们这么做时数组的length属性值变为：<br></p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">a.length 	// =&gt; 4</div></pre></td></tr></table></figure>
<p><br>    清晰地区分数组的索引和对象的属性名是非常有用的。所有的索引都是属性名，但只有0~2^32-2之间的整数属性名才是索引。所有的数组都是对象，可以为其创建任意名字的属性。但是如果使用的属性是数组的索引，数组的特殊性为就是将根据需要更新它们的length属性值。<br></p>

<p><br>    注意，可以使用负数或非整数来索引数组。这种情况下，数值转换为字符串，字符串作为属性名来用。既然名字不是非负整数，它就只能当做常规的对象属性，而非数组的索引。同样，如果碰巧使用了是非负整数的字符串，它就当做数组索引，而非对象属性，当使用的一个浮点数和一个整数相等时情况也是一样的：<br></p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">a[-1.23] = true;	// 这将创建一个名为“-1.23”的属性</div><div class="line">a[&quot;1000&quot;] = 0;		// 这是数组的第1001个元素</div><div class="line">a[1.000]			// 和a[1]相等</div></pre></td></tr></table></figure>
<p><br>    事实上数组索引仅仅是对象属性名的一种特殊类型，这意味着JavaScript数组没有“越界”错误的概念。当试图查询任何对象中不存在的属性时，不会报错，只会得到undefined值。类似于对象，对于对象同样存在这种情况。<br></p>

<p><br>    既然数组是对象，那么它们可以从原型中继承元素。在ECMAScript 5中，数组可以定义元素的getter和setter方法，你应该期望它使用非优化的代码路径：访问这种数组的元素时间会与常规对象属性的查找相近。<br></p>

<h3 id="1-3-稀疏数组"><a href="#1-3-稀疏数组" class="headerlink" title="1.3 稀疏数组"></a>1.3 稀疏数组</h3><p><br>    稀疏数组就是包含从0开始的不连续索引的数组。通常，数组的length属性值代表数组中元素的个数。如果数组是稀疏的，length属性值大于元素的个数。可以用Array()构造函数或简单地指定数组的索引值大于当前的数组长度来创建稀疏数组。<br></p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">a = new Array(5);	// 数组没有元素，但是a.length是5</div><div class="line">a = [];				// 创建一个空数组，length=0</div><div class="line">a[1000] = 0;		// 赋值添加一个元素，但是设置length为1001</div></pre></td></tr></table></figure>
<p>后面会看到你也可以用delete操作符来生产稀疏数组。</p>

<p><br>    足够稀疏的数组通常在实现上比稠密的数组更慢、内存利用率更高，在这样的数组中查找元素的时间与常规对象属性的查找时间一样长。<br></p>

<p><br>    注意，当在数组直接量中省略值时不会创建稀疏数组。省略的元素在数组中是存在的，其值为undefined。这和数组元素根本不存在时有一些微妙的区别的。可以用in操作符检测两者之间的区别：<br></p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var a1 = [,,,];			// 数组是[undefined, undefined, undefined]</div><div class="line">var a2 = new Array(3);	// 该数组根本没有元素</div><div class="line">0 in a1					// =&gt; true：a1在索引0处有一个元素</div><div class="line">0 in a1					// =&gt; false：a2在索引0处没有元素</div></pre></td></tr></table></figure>
<p>当使用for/in循环时，a1和a2之间的区别也很明显。</p>

<p><br>    在一些旧版本的实现中（比如Firefox），在存在连续逗号的情况下，插入undefined值的操作则与此不同，在这些实现中，[1,,3]和[1,undefined,3]是一模一样的。<br></p>

<p><br>    了解稀疏数组是了解JavaScript数组的真实本质的一部分。尽管如此，实际上你所碰到的绝大多数JavaScript数组不是稀疏数组。并且，如果你确实碰到了稀疏数组，你的代码很可能向对待非稀疏数组一样来对待它们，只不过它们包含一些undefined值。<br></p>

<h3 id="1-4-数组长度"><a href="#1-4-数组长度" class="headerlink" title="1.4 数组长度"></a>1.4 数组长度</h3><p><br>    每个数组有一个length属性，就是这个属性使其区别于常规的JavaScript对象。针对稠密(也就是非稀疏)数组,length属性值代表数组中元素的个数。其值比数组中最大的索引大1：<br></p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[].length 				// =&gt; 0: 数组没有元素</div><div class="line">[&apos;a&apos;, &apos;b&apos;, &apos;c&apos;].length 	// =&gt; 3: 最大的索引为2，length为3</div></pre></td></tr></table></figure>
<p><br>    当数组是稀疏的时，length属性值大于元素的个数。而且关于此我们可以说的一切也就是数组长度保证大于它每个元素的索引值。或者，换一种说法，在数组中(无论稀疏与否)肯定找不到一个元素的索引值大于或等于它的长度。为了维持此规则不变化，数组有两个特殊的行为。第一个如同上面的描述：如果为一个数组元素赋值，它的索引i大于或等于现有数组的长度时，length属性的值将设置为i+1。<br></p>

<p><br>    第二个特殊行为就是设置length属性为一个小于当前长度的非负整数n时，当前数组中那些索引值大于或等于n的元素将从中删除：<br></p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">a = [1, 2, 3, 4, 5];	// 从5个元素的数组开始</div><div class="line">a.length = 3;			// 现在a为[1, 2, 3]</div><div class="line">a.length = 0;			// 删除所有的元素。a为[]</div><div class="line">a.length = 5;			// 长度为5，但是镁元素，就像new Array(5)</div></pre></td></tr></table></figure>
<p><br>    还可以将数组的length属性值设置为大于其当前的长度。实际上这不会向数组中添加新的元素，它只是在数组尾部创建一个空的区域。<br></p>

<p>在ECMAScript 5中，可以用Object.defineProperty()让数组的length属性值变成只读的：</p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">a = [1, 2, 3];	// 从3个元素的数组开始</div><div class="line">Object.defineProperty(a, &quot;length&quot;, &#123; writable: false &#125;);	// 让length属性只读</div><div class="line">a.length = 0;	// a不会改变</div></pre></td></tr></table></figure>
<p><br>    类似地，如果让一个数组元素不能配置，就不能删除它。如果不能删除它，length属性不能设置为小于不可配置元素的索引值。<br></p>

<h3 id="7-5-数组元素的添加和删除"><a href="#7-5-数组元素的添加和删除" class="headerlink" title="7.5 数组元素的添加和删除"></a>7.5 数组元素的添加和删除</h3><p>我们已经见过添加数组元素最简单的方法：为新索引赋值：</p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">a = []			// 开始是一个空数组</div><div class="line">a[0] = &quot;zero&quot;;	// 然后向其中添加元素</div><div class="line">a[1] = &quot;one&quot;;</div></pre></td></tr></table></figure>
<p>也可以使用push()方法在数组末尾增加一个或多个元素：</p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">a = [];		// 开始是一个空数组</div><div class="line">a.push(&quot;zero&quot;)		// 在末尾添加一个元素。a = [&quot;zero&quot;]</div><div class="line">a.push(&quot;one&quot;, &quot;two&quot;)	// 再添加两个元素。a = [&quot;zero&quot;, &quot;one&quot;, &quot;two&quot;]</div></pre></td></tr></table></figure>
<p><br>    在数组尾部压入一个元素与给数组a[a.length]赋值是一样的。可以使用unshift()方法在数组的首部插入一个元素，并且将其他元素依次移到更高的索引处。<br></p>

<p>可以像删除对象属性一样使用delete运算符来删除数组元素：</p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">a = [1, 2, 3];</div><div class="line">delete a[1];	// a在索引1的位置不再有元素</div><div class="line">1 in a 			// =&gt; false：数组索引1并未在数组中定义</div><div class="line">a.length 		// =&gt; 3：delete操作并不影响数组长度</div></pre></td></tr></table></figure>
<p><br>    删除数组元素与为其赋undefined值是类似的(但有一些微妙的区别).注意，对一个数组元素使用delete不会修改数组的length属性，也不会将元素从高索引处移下来填充已删除属性留下的空白。如果从数组中删除一个元素，他就变成稀疏数组。<br></p>

<p><br>    上面我们看到，也可以简单地设置length属性为一个新的期望长度来删除数组尾部的元素。数组有pop()方法(它和push()一起使用)，后者一次使减少长度1并返回被删除元素的值。还有一个shift()方法(它和unshift()一起使用)，从数组头部删除一个元素。和delete不同的是shift()方法将所有元素下移到比当前索引低1的地方。<br></p>

<p><br>    最后，splice()是一个通用的方法来插入、删除或替换数组元素。它会根据需要修改length属性并移动元素到更高或更低的索引处。<br></p>

<h3 id="1-6-数组遍历"><a href="#1-6-数组遍历" class="headerlink" title="1.6 数组遍历"></a>1.6 数组遍历</h3><p>使用for循环时遍历数组元素最常见的方法：</p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var keys = Object.keys(o);	// 获取对象属性名组成的数组</div><div class="line">var values = []				// 在数组中存储匹配属性的值</div><div class="line">for (var i = 0; i &lt; keys.length; i++) &#123;		// 对于数组中每个索引</div><div class="line">	var key = keys[i];	// 获取索引处的键值</div><div class="line">	values[i] = o[key];	// 在values数组中保存属性值</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><br>    在嵌套循环或其他性能非常重要的上下文中，可以看到这种基本的数组遍历需要优化，数组的长度应该只查询一次而非每次循环都要查询：<br></p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">for (var i = 0, len = keys.length; i &lt; len; i++) &#123;</div><div class="line">    // 循环体仍然不变</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><br>    这些例子假设数组是稠密的，并且多有的元素都是合法数据。否则，使用数组元素之前应该先检测它们。如果想要排除null、undefined和不存在的元素，代码如下：<br></p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">for (var i = 0; i &lt; a.length; i++) &#123;</div><div class="line">    if (!a[i]) continue;	// 跳过null、undefined和不存在的元素</div><div class="line">    // 循环体</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><br>    如果指向跳过undefined和不存在的元素，代码如下：<br></p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">for (var i = 0; i &lt; a.length; i++) &#123;</div><div class="line">    if (a[i] === undefined) continue;	// 跳过undefined+不存在的元素</div><div class="line">    // 循环体</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><br>    还可以使用for/in循环处理稀疏数组。循环每次将一个可枚举的属性名(包括数组索引)赋值给循环变量。不存在的索引将不会遍历到：<br></p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">for(var index in sparseArray) &#123;</div><div class="line">    var value = sparseArrayp[index];</div><div class="line">    // 此处可以使用索引和值做一些事情</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><br>    我们已经注意到了for/in循环能够枚举继承的属性名，如添加到Array.prototype中的方法。由于这个原因，在数组上不应该使用for/in循环，除非使用额外的检测方法来过滤不想要的属性。如下检测代码取其一即可：<br></p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">for(var i in a) &#123;</div><div class="line">    if (!a.hasOwnProperty(i)) continue;	// 跳过继承的属性</div><div class="line">    // 循环体</div><div class="line">&#125;</div><div class="line">for(var i in a) &#123;</div><div class="line">    // 跳过不是非负整数的i</div><div class="line">    if (String(Math.floor(Math.abs(Number(i)))) !== i) continue;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><br>    ECMAScript规范允许for/in循环以不同的顺序遍历对象的属性。通常数组元素的遍历实现是升序的，但不能保证一定是这样的。特别地，如果数组同时拥有对象属性和数组元素，返回的属性名很可能是按照创建的顺序而非数值的大小顺序。如果处理这个问题的实现各不相同，如果算法依赖于遍历的顺序，那么最好不要使用for/in而用常规的for循环。<br></p>

<p><br>    ECMAScript 5定义了一些遍历数组元素的新方法，按照索引的顺序按个传递给定义的一个函数。这些方法中最常用的就是forEach()方法：<br></p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">var data = [1, 2, 3, 4, 5];		// 这是需要遍历的数组</div><div class="line">var sumOfSquares = 0;			// 要得到数据的平方和</div><div class="line">data.forEach(function(x) &#123;		// 把每个元素传递给此函数</div><div class="line">    sumOfSquares += x*x;		// 平方相加</div><div class="line">&#125;);</div><div class="line">sumOfSquares					// =&gt; 55: 1+4+9+16+25</div><div class="line"></div><div class="line">forEach()和相关的遍历方法使得数组拥有简单而强大的函数式编程风格。</div></pre></td></tr></table></figure>
<h3 id="1-7-多维数组"><a href="#1-7-多维数组" class="headerlink" title="1.7 多维数组"></a>1.7 多维数组</h3><p><br>    JavaScript不支持真正的多维数组，但可以用数组的数组来近似。访问数组的数组中的元素，只要简单地使用两次[]操作符即可。例如，假设变量matrix是一个数组的数组，它的基本元素是数值，那么matrix[x]的每个元素是包含一个数值数组，访问数组中特定数值的代码为matrix[x][y].这里有一个具体的例子,它使用二维数组作为一个九九乘法表：<br></p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">// 创建一个多维数组</div><div class="line">var table = new Array(10);	// 表格有10行</div><div class="line">for (var i = 0; i &lt; table.length; i++) &#123;</div><div class="line">    table[i] = new Array(10);	// 每列有10行</div><div class="line">&#125;</div><div class="line">// 初始化数组</div><div class="line">for (var row = 0; row &lt; table.length; row++) &#123;</div><div class="line">    for (col = 0; col &lt; table[row].length; col++) &#123;</div><div class="line">        table[row][col] = row * col;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">// 使用多为数组来计算(查询)5*7</div><div class="line">var product = table[5][7];	// 35</div></pre></td></tr></table></figure>
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/JavaScript/" rel="tag"># JavaScript</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/08/23/window对象（2）/" rel="next" title="Window对象(二)">
                <i class="fa fa-chevron-left"></i> Window对象(二)
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/08/24/数组（2）/" rel="prev" title="数组(二)">
                数组(二) <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="谦恒" />
          <p class="site-author-name" itemprop="name">谦恒</p>
           
              <p class="site-description motion-element" itemprop="description">苟日新 日日新 又日新</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">31</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#数组"><span class="nav-number">1.</span> <span class="nav-text">数组</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-创建数组"><span class="nav-number">1.1.</span> <span class="nav-text">1.1 创建数组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-数组元素的读和写"><span class="nav-number">1.2.</span> <span class="nav-text">1.2 数组元素的读和写</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-稀疏数组"><span class="nav-number">1.3.</span> <span class="nav-text">1.3 稀疏数组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-数组长度"><span class="nav-number">1.4.</span> <span class="nav-text">1.4 数组长度</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-5-数组元素的添加和删除"><span class="nav-number">1.5.</span> <span class="nav-text">7.5 数组元素的添加和删除</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-6-数组遍历"><span class="nav-number">1.6.</span> <span class="nav-text">1.6 数组遍历</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-7-多维数组"><span class="nav-number">1.7.</span> <span class="nav-text">1.7 多维数组</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">谦恒</span>

  
</div>


  <div class="powered-by">
    由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
  </div>

  <span class="post-meta-divider">|</span>

  <div class="theme-info">
    主题 &mdash;
    <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
      NexT.Gemini
    </a>
  </div>


        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  








  





  

  

  

  

  

  

</body>
</html>
